<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="javaScript," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="前端要知道的计算机网络知识(整理)">
<meta name="keywords" content="javaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="前端要知道的计算机网络知识">
<meta property="og:url" content="http://yoursite.com/2019/04/19/2019-4-19-前端要知道的计算机网络知识/index.html">
<meta property="og:site_name" content="杨瑞超的个人博客">
<meta property="og:description" content="前端要知道的计算机网络知识(整理)">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/10/1/1662eada5a5efb30?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
<meta property="og:updated_time" content="2019-04-20T06:38:18.247Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端要知道的计算机网络知识">
<meta name="twitter:description" content="前端要知道的计算机网络知识(整理)">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2018/10/1/1662eada5a5efb30?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/04/19/2019-4-19-前端要知道的计算机网络知识/"/>





  <title>前端要知道的计算机网络知识 | 杨瑞超的个人博客</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">杨瑞超的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">孤独行者,孤独且孤独</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-search">
          <a href="/search" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-search"></i> <br />
            
            搜索
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/19/2019-4-19-前端要知道的计算机网络知识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="杨瑞超">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨瑞超的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">前端要知道的计算机网络知识</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-19T15:51:38+08:00">
                2019-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/code/" itemprop="url" rel="index">
                    <span itemprop="name">code</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> 阅读数
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          
              <div class="post-description">
                  前端要知道的计算机网络知识(整理)
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      

      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​    最近打算整理一下之前学过的一些知识,记录下来,本文参考了一些大神的文章之后进行书写的,</p>
<p>放上原文地址<a href="https://juejin.im/post/5ba35e135188255c7228423a" target="_blank" rel="noopener">传送门</a>,我这里做一下整理</p>
<h2 id="一道经典的面试题"><a href="#一道经典的面试题" class="headerlink" title="一道经典的面试题"></a>一道经典的面试题</h2><p>​    问：在浏览器输入网址到看到页面经历了哪些过程？ </p>
<p>1、域名解析</p>
<p>   域名解析的过程：<br>       1）.若上面没有查找到，则搜索操作系统自身的dns缓存</p>
<pre><code>    2）.若上面没有查找到，则搜索操作系统自身的dns缓存

    3）.若上面没有找到，则尝试读取hosts文件

    4）.若上面没有找到，向本地配置的首选DNS服务器发送请求

    5）.win系统 如果上面没有找到，操作系统查找NetBIOS name cache

    6）.win系统 如果上面没有找到，查询wins服务器

    7）.win系统 如果上面没有找到，广播查找

    8）.win系统 如果上面没有找到，读取LMHOSTS文件

若以上多没有找到，解析失败
</code></pre><p>2、 TCP三次握手</p>
<p>3、浏览器向服务器发送http请求</p>
<p>​    一旦建立了TCP连接，Web浏览器就会向Web服务器发送请求命令。例如：GET/sample/hello.jsp HTTP/1.1。</p>
<p>4、浏览器发送请求头信息</p>
<p>​    浏览器发送其请求命令之后，还要以头信息的形式向Web服务器发送一些别的信息，之后浏览器发送了一空白行来通知服务器，它已经结束了该头信息的发送。 </p>
<p>5、服务器处理请求</p>
<p>​    服务器软件收到http请求，确定执行什么(ASP.net PHP RUBY JAVA等)来处理他。读取参数并进行逻辑操作后，生成指定的数据。</p>
<p>6、服务器做出应答</p>
<p>​    客户机向服务器发出请求后，服务器会客户机回送应答，HTTP/1.1 200 OK ，应答的第一部分是协议的版本号和应答状态吗</p>
<p>7、服务器发送应答头信息</p>
<p>​    正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。 </p>
<p>8、服务器发送数据</p>
<p>​    Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，它就以Content-Type应答头信息所描述的格式发送用户所请求的实际数据。</p>
<p>9、tcp连接关闭</p>
<p>​    一般情况下，一旦Web服务器向浏览器发送了请求数据，它就要关闭TCP连接，然后如果浏览器或者服务器在其头信息加入了这行代码：<br>Connection:keep-alive </p>
<p>​    TCP连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽 </p>
<p><strong>上面的回答就涉及到前端必须了解的网络知识点</strong> </p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="DNS服务器、IP地址、MAC地址"><a href="#DNS服务器、IP地址、MAC地址" class="headerlink" title="DNS服务器、IP地址、MAC地址"></a>DNS服务器、IP地址、MAC地址</h3><ul>
<li><p>什么是DNS?</p>
<p>域名系统（<a href="https://baike.baidu.com/item/%E8%8B%B1%E6%96%87" target="_blank" rel="noopener">英文</a>：<strong>D</strong>omain <strong>N</strong>ame <strong>S</strong>ystem，<a href="https://baike.baidu.com/item/%E7%BC%A9%E5%86%99" target="_blank" rel="noopener">缩写</a>：<strong>DNS</strong>）是<a href="https://baike.baidu.com/item/%E4%BA%92%E8%81%94%E7%BD%91" target="_blank" rel="noopener">互联网</a>的一项服务。 它作为将<a href="https://baike.baidu.com/item/%E5%9F%9F%E5%90%8D" target="_blank" rel="noopener">域名</a>和<a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80" target="_blank" rel="noopener">IP地址</a>相互<a href="https://baike.baidu.com/item/%E6%98%A0%E5%B0%84" target="_blank" rel="noopener">映射</a>的一个<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" rel="noopener">分布式数据库</a>，能够使人更方便地访问<a href="https://baike.baidu.com/item/%E4%BA%92%E8%81%94%E7%BD%91" target="_blank" rel="noopener">互联网</a>。 </p>
</li>
</ul>
<ul>
<li><p>MAC地址?</p>
<ol>
<li>在互联网中，计算器和计算器之间发送和传输数据都是通过网卡进行的，所以计算机之间建立连接也就是两个网卡之间建立连接。</li>
<li>网卡内的地址来标识计算机身份的每个网卡都有一个全球唯一的地址来标识自己，不会重复</li>
<li>MAC地址48位的二进制组成，通常分为6段，用16进制表示</li>
</ol>
</li>
<li><p>IP地址</p>
<ol>
<li>IP是英文<a href="https://baike.baidu.com/item/Internet%20Protocol" target="_blank" rel="noopener">Internet Protocol</a>的缩写，意思是“<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%B9%8B%E9%97%B4%E4%BA%92%E8%BF%9E%E7%9A%84%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">网络之间互连的协议</a>”，也就是为<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" target="_blank" rel="noopener">计算机网络</a>相互连接进行通信而设计的协议。在<a href="https://baike.baidu.com/item/%E5%9B%A0%E7%89%B9%E7%BD%91" target="_blank" rel="noopener">因特网</a>中，它是能使连接到网上的所有计算机网络实现相互通信的一套规则，规定了计算机在因特网上进行通信时应当遵守的规则。任何厂家生产的<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener">计算机系统</a>，只要遵守IP协议就可以与<a href="https://baike.baidu.com/item/%E5%9B%A0%E7%89%B9%E7%BD%91" target="_blank" rel="noopener">因特网</a>互连互通。正是因为有了IP协议，<a href="https://baike.baidu.com/item/%E5%9B%A0%E7%89%B9%E7%BD%91" target="_blank" rel="noopener">因特网</a>才得以迅速发展成为世界上最大的、开放的计算机<a href="https://baike.baidu.com/item/%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C" target="_blank" rel="noopener">通信网络</a>。因此，IP协议也可以叫做“<a href="https://baike.baidu.com/item/%E5%9B%A0%E7%89%B9%E7%BD%91" target="_blank" rel="noopener">因特网</a>协议”。</li>
<li>IP地址被用来给<a href="https://baike.baidu.com/item/Internet" target="_blank" rel="noopener">Internet</a>上的电脑一个编号。大家日常见到的情况是每台联网的PC上都需要有IP地址，才能正常通信。我们可以把“<a href="https://baike.baidu.com/item/%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91" target="_blank" rel="noopener">个人电脑</a>”比作“一台电话”，那么“IP地址”就相当于“电话号码”，而Internet中的<a href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8" target="_blank" rel="noopener">路由器</a>，就相当于电信局的“程控式<a href="https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA" target="_blank" rel="noopener">交换机</a>”。</li>
<li>互联网之所以有个网字，是因为它的组成结构就像一张无形的网将全世界的计算机连接在一起，而路由器和计算机属于这个网中的一个节点。</li>
<li>IP地址的网络部分是由Internet地址分配机构来统一分配的，这样可以保证IP的唯一性，用来确定网络中的一个节点。</li>
<li>IP地址是由32位二进制(32bit)组成，将网络分为A、B、C三类，这样就形成了类型邮编的东西来表示网络和子网络</li>
</ol>
</li>
</ul>
<h4 id="IP地址和MAC地址"><a href="#IP地址和MAC地址" class="headerlink" title="IP地址和MAC地址"></a>IP地址和MAC地址</h4><ul>
<li>MAC地址是根据供应商的不同决定的唯一性标识，所以必然就导致其没有办法进行规律化和区域化，所以用同样唯一性的IP地址来代替，因为IP有其分类和区域行特点。</li>
<li>MAC地址是固定不变的，一个网卡，从制作出来之后其MAC地址是永远不会变化的，但是IP地址不一样，它是随机分配给网卡使用的，所以不是不变的。举个例子：MAC地址是你，江西的南京街18号和北京的南京街18号是IP地址，只要给你分配了IP，你住在了里面，都可以通过IP找到你。</li>
</ul>
<h3 id="计算机网络的分层模型"><a href="#计算机网络的分层模型" class="headerlink" title="计算机网络的分层模型"></a>计算机网络的分层模型</h3><h4 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h4><ul>
<li>应用层(Application) 提供网络与用户应用软件之间的接口服务</li>
<li>会话层(Session) 提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制</li>
<li>表示层(Presentation) 提供格式化的表示和转换数据服务，如加密和压缩</li>
<li>传输层(Transimission) 提供建立、维护和取消传输连接功能，负责可靠地传输数据(PC)</li>
<li>网络层(Network) 处理网络间路由，确保数据及时传送(路由器)</li>
<li>数据链路层(DataLink) 负责无错传输数据，确认帧、发错重传等(交换机)</li>
<li>物理层(Physics) 提供机械、电气、功能和过程特性(网卡、网线、双绞线、同轴电缆、中继器)</li>
</ul>
<p>​    </p>
<h4 id="TCP-IP参考模型"><a href="#TCP-IP参考模型" class="headerlink" title="TCP/IP参考模型"></a>TCP/IP参考模型</h4><p>  上面的模型只是一种理想和理论层面的，在现实中使用最多的还是TCP/IP参考模型：</p>
<ul>
<li>应用层</li>
<li>传输层</li>
<li>网络层</li>
<li>数据链路层</li>
<li>物理层</li>
</ul>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><p>​    TCP（Transmission Control Protocol <a href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE/9727741" target="_blank" rel="noopener">传输控制协议</a>）是一种面向连接的、可靠的、基于字节流的<a href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%B1%82/4329536" target="_blank" rel="noopener">传输层</a>通信协议，由IETF的RFC 793定义。在简化的计算机网络OSI模型中，它完成第四层传输层所指定的功能，用户数据报协议（UDP）是同一层内[1]  另一个重要的传输协议。在因特网协议族（Internet protocol suite）中，TCP层是位于IP层之上，应用层之下的中间层。不同主机的应用层之间经常需要可靠的、像管道一样的连接，但是IP层不提供这样的流机制，而是提供不可靠的包交换。 </p>
<ul>
<li><p>TCP的功能</p>
<p>为了保证TCP是可靠的、面向连接的协议，具备以下功能：</p>
<ol>
<li>将数据进行分段打包传输，如果不将数据分段打包传输，那么会导致每次传输的数据特别大，而带宽是一定的，所以很容易造成拥塞。想象一下，一辆火车跑在公路上的感觉。</li>
<li>对每个数据包编号控制顺序，因为数据进行了分段打包传输，而网络中的路线不止一条，而且某些路线会有延迟的情况，没有编号，那么如何保证到达的数据是原来的模样。想象一下，将一副大拼图从一个地方，分多条路运往另外一个地方，并且没有编号。</li>
<li>运输中丢失、重发和丢弃处理，由于网络中的路线会有延迟，并且存在丢包现象，所以会有重发等机制来保证数据的完整性。</li>
<li>流量控制避免拥塞，避免发送速率过快，让接收方来不及接收，导致发生丢包。</li>
</ol>
</li>
</ul>
<ul>
<li><p>传输层协议的作用</p>
<ul>
<li>提供了一种端到端(end to end)的连接，一般为前端和后台服务器的连接</li>
<li>由于网络层只管传递数据，并不关心成功与否，TCP协议在数据丢失、损坏的情况下保证数据的可靠性</li>
</ul>
</li>
</ul>
<ul>
<li><p>传输层协议的分类</p>
<ul>
<li>传输控制协议TCP(Transimision Control Protocal)：</li>
</ul>
<ol>
<li>可靠的、面向连接的协议</li>
<li>传输效率低</li>
</ol>
<ul>
<li>用户数据报协议UDP(User Datagram Protocal)：</li>
</ul>
<ol>
<li>不可靠的、无连接的服务</li>
<li>传输效率高</li>
</ol>
</li>
</ul>
<h3 id="三次握手和四次挥手"><a href="#三次握手和四次挥手" class="headerlink" title="三次握手和四次挥手"></a>三次握手和四次挥手</h3><h4 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h4><ol>
<li>第一次握手主机A通过一个标识为SYN标识位的数据段发送给主机B请求连接，通过该数据段告诉主机B希望建立连接，需要B应答，并告诉主机B传输的起始序列号</li>
<li>第二次握手是主机B用一个确认应答ACK和同步序列号SYNC标志位的数据段来响应主机A，一是发送ACK告诉主机A收到了数据段，二是通知主机A从哪个序列号做标记。</li>
<li>第三次握手是主机A确认收到了主机B的数据段并可以开始传输实际数据。</li>
</ol>
<p>第一次握手主要是确定服务端确认客户端能够发送信号；第二次握手主要是客户端确认服务端能够接收和发送信号；第三次握手主要是服务端确认客户端能够接收信号</p>
<h4 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h4><ol>
<li>主机A发送FIN控制位发出断开连接的请求</li>
<li>主机B进行响应，确认收到断开连接请求</li>
<li>主机B提出反方向的关闭要求</li>
<li>主机A确认收到的主机B的关闭连接请求</li>
</ol>
<p>第一次挥手是服务端确认客户端需要断开连接；第二次挥手是客户端确认服务器接收断开请；第三次挥手是客户端确认服务器数据发完，断开连接；第四次挥手是服务端确认客户端断开连接，断开连接。所以如果服务端的数据全部发送完，是没有第三次挥手，直接进入第四次挥手。</p>
<h3 id="HTTP、HTTPS、XSS攻击、CSRF"><a href="#HTTP、HTTPS、XSS攻击、CSRF" class="headerlink" title="HTTP、HTTPS、XSS攻击、CSRF"></a>HTTP、HTTPS、XSS攻击、CSRF</h3><h4 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h4><ul>
<li><p>什么是HTTP?</p>
<ul>
<li><strong>超文本传输协议（HTTP）</strong>是用于传输诸如HTML的超媒体文档的<a href="https://en.wikipedia.org/wiki/Application_Layer" target="_blank" rel="noopener">应用层</a>协议。它被设计用于Web浏览器和Web服务器之间的通信，但它也可以用于其他目的。 HTTP遵循经典的<a href="https://en.wikipedia.org/wiki/Client%E2%80%93server_model" target="_blank" rel="noopener">客户端-服务端模型</a>，客户端打开一个连接以发出请求，然后等待它收到服务器端响应。 HTTP是<a href="http://en.wikipedia.org/wiki/Stateless_protocol" target="_blank" rel="noopener">无状态协议</a>，意味着服务器不会在两个请求之间保留任何数据（状态）。虽然通常基于TCP / IP层，但可以在任何可靠的<a href="https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E5%B1%82" target="_blank" rel="noopener">传输层</a>上使用; 也就是说，一个不会静默丢失消息的协议，如UDP。 </li>
</ul>
</li>
</ul>
<ul>
<li><p>HTTP为什么不安全</p>
<ol>
<li>可能被窃听：</li>
</ol>
<ul>
<li>HTTP 本身不具备加密的功能,HTTP 报文使用明文方式发送</li>
<li>由于互联网是由联通世界各个地方的网络设施组成,所有发送和接收经过某些设备的数据都可能被截获或窥视。(例如大家都熟悉的抓包工具:Wireshark),即使经过加密处理,也会被窥视是通信内容,只是可能很难或者无法破解出报文的信息而已</li>
</ul>
<ol start="2">
<li>认证问题</li>
</ol>
<ul>
<li>无法确认你发送到的服务器就是真正的目标服务器(可能服务器是伪装的)</li>
<li>无法确定返回的客户端是否是按照真实意图接收的客户端(可能是伪装的客户端)</li>
<li>无法确定正在通信的对方是否具备访问权限,Web服务器上某些重要的信息，只想发给特定用户即使是无意义的请求也会照单全收。无法阻止海量请求下的 DoS 攻击（Denial of Service，拒绝服务攻击）。</li>
</ul>
<ol start="3">
<li>可能被篡改</li>
</ol>
<ul>
<li>请求或响应在传输途中，遭攻击者拦截并篡改内容的攻击被称为中间人攻击（Man-in-the-Middle attack，MITM）。</li>
</ul>
</li>
</ul>
<h4 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h4><ul>
<li><p>什么是HTTPS?</p>
<ul>
<li>HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer 或 Hypertext Transfer Protocol Secure，超文本传输安全协议），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 它是一个URI scheme（抽象标识符体系），句法类同<a href="https://baike.baidu.com/item/http" target="_blank" rel="noopener">http</a>:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认<a href="https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3/103505" target="_blank" rel="noopener">端口</a>及一个加密/身份验证层（在HTTP与TCP之间）。这个系统的最初研发由<a href="https://baike.baidu.com/item/%E7%BD%91%E6%99%AF" target="_blank" rel="noopener">网景</a>公司(Netscape)进行，并内置于其浏览器Netscape Navigator中，提供了身份验证与加密<a href="https://baike.baidu.com/item/%E9%80%9A%E8%AE%AF/396194" target="_blank" rel="noopener">通讯</a>方法。现在它被广泛用于<a href="https://baike.baidu.com/item/%E4%B8%87%E7%BB%B4%E7%BD%91" target="_blank" rel="noopener">万维网</a>上安全敏感的通讯，例如交易支付方面。 </li>
</ul>
</li>
<li><p>TLS/SSL</p>
<p>TLS/SSL的功能实现主要依赖于三类基本算法：</p>
<ul>
<li>非对称加密实现身份认证和密钥协商</li>
<li>对称加密算法采用协商的密钥对数据加密</li>
<li>散列函数验证信息的完整性，针对于密钥泄露的不安全性</li>
</ul>
</li>
</ul>
<h4 id="XSS攻击"><a href="#XSS攻击" class="headerlink" title="XSS攻击"></a>XSS攻击</h4><ul>
<li><p>什么是XSS攻击?</p>
<ul>
<li>XSS，即为（Cross Site Scripting），中文名为跨站脚本,跨站脚本的重点不在“跨站”上，而在于“脚本”上。大多数XSS攻击的主要方式是嵌入一段远程或者第三方域上的JS代码，实际上是在目标网站的作用域下执行了这段第三方域上的js代码。</li>
</ul>
</li>
<li><p>XSS危害</p>
<ul>
<li>通过document.cookie盗取cookie</li>
<li>使用js或css破坏页面正常的结构与样式</li>
<li>流量劫持（通过访问某段具有window.location.href定位到其他页面）</li>
<li>Dos攻击：利用合理的客户端请求来占用过多的服务器资源，从而使合法用户无法得到服务器响应。</li>
<li>利用iframe、frame、XMLHttpRequest或上述Flash等方式，以（被攻击）用户的身份执行一些管理动作，或执行一些一般的如发微博、加好友、发私信等操作。</li>
<li>利用可被攻击的域受到其他域信任的特点，以受信任来源的身份请求一些平时不允许的操作，如进行不当的投票活动。</li>
</ul>
</li>
<li><p>XSS防御</p>
<p>XSS攻击可以看出，不能原样的将用户输入的数据直接存到服务器，需要对数据进行一些处理：</p>
<ul>
<li>过滤危险的DOM节点。如具有执行脚本能力的script, 具有显示广告和色情图片的img,  具有改变样式的link, style, 具有内嵌页面的iframe, frame等元素节点。</li>
<li>过滤危险的属性节点。如on-, style, src, href等</li>
<li>对cookie设置httpOnly,但是也会导致前台无法操作cookie，不太推荐。</li>
</ul>
</li>
</ul>
<h4 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h4><ul>
<li><p>CSRF（Cross-site request forgery），中文名称：跨站请求伪造，攻击者盗用了你的身份，以你的名义发送恶意请求。 </p>
<ul>
<li>特点：<ol>
<li>登录受信任网站A，并在本地生成Cookie。</li>
<li>在不登出受信任网站A的情况下，访问危险网站B。</li>
<li>危险网站会向受信任A的网站发送请求，同时会携带受信任网站A本地生成Cookie(用同一个浏览器访问同一个域的接口)</li>
</ol>
</li>
</ul>
</li>
<li><p>CSRF的危害</p>
<ul>
<li>篡改目标网站上的用户数据；</li>
<li>盗取用户隐私数据；</li>
<li>作为其他攻击向量的辅助攻击手法；</li>
<li>传播CSRF蠕虫。</li>
</ul>
</li>
<li><p>CSRF的防御</p>
<ul>
<li>验证码，因为验证码必须在受信任的网站上发送给浏览器的，并且伪造的网站和受信任的网站非同源，所以没有办法获取受信任网站发送的session，所以验证码是没有办法伪造的。</li>
<li>refer，标识了当前请求的页面的源，伪造网站可以篡改成受信任的网站源，并不保险</li>
<li>token，由于它是通过服务的发送给客户端的令牌，并且存储在浏览器的localstorage中，由于同源策略，并且token还有校验规则，所以token并不能轻易篡改。</li>
</ul>
</li>
</ul>
<h3 id="同源策略和跨域的解决方案"><a href="#同源策略和跨域的解决方案" class="headerlink" title="同源策略和跨域的解决方案"></a>同源策略和跨域的解决方案</h3><h4 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h4><p>​    浏览器只对网络请求有同源限制，同源就是协议、域名和端口号一致，不同源的客户端脚本在没有明确授权的情况下，不能读写对方XHR资源，反之不同源脚本读取对方XHR资源就是跨域。 </p>
<h4 id="跨域的解决方案"><a href="#跨域的解决方案" class="headerlink" title="跨域的解决方案"></a>跨域的解决方案</h4><ul>
<li>jsonp：只支持GET，不支持POST请求，不安全XSS</li>
<li>postMessage：配合使用iframe，需要兼容IE6、7、8、9</li>
<li>document.domain：仅限于同一域名下的子域</li>
<li>cors：需要后台配合进行相关的设置</li>
<li>websocket：需要后台配合修改协议，不兼容，<a href="https://link.juejin.im?target=http%3A%2F%2Fxn--socket-vt9i248wojvbeh2a.io" target="_blank" rel="noopener">需要使用socket.io</a></li>
<li>proxy：使用代理去避开跨域请求，需要修改nginx、apache等的配置</li>
</ul>
<h5 id="jsonp"><a href="#jsonp" class="headerlink" title="jsonp"></a>jsonp</h5><ul>
<li>浏览器对script标签src属性、link标签ref属性和img标签src属性没有同源策略限制，利用这个“漏洞”就可以很好的解决跨域请求，JSONP就是利用了script标签无同源限制的特点来实现的。</li>
<li>当向第三方站点请求时，我们可以将此请求放在script标签的src属性里，这就如同请求一个普通的JS脚本，可以自由的向不同的站点请求。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//创建script发送请求</span><br><span class="line">//请求返回执行cb函数，并且删除创建的script</span><br><span class="line">//类似于$ajax中的jsonp</span><br><span class="line">function jsonp(url,params,cb)&#123;</span><br><span class="line">    return new Promimse((resolve,reject)=&gt;&#123;</span><br><span class="line">        window[cb] = function(data)&#123;</span><br><span class="line">            resolve(data);</span><br><span class="line">            document.body.removeChild(script);</span><br><span class="line">        &#125;</span><br><span class="line">        params=&#123;...params,cb&#125;,</span><br><span class="line">        let arrs=[];</span><br><span class="line">        for(let key in params)&#123;</span><br><span class="line">            arrs.push(`$&#123;key&#125;=$&#123;params[key]&#125;`)</span><br><span class="line">        &#125;</span><br><span class="line">        let script = document.createElement(&apos;script&apos;);</span><br><span class="line">        script.src= url + &apos;?&apos;+ arrs.join(&apos;&amp;&apos;);</span><br><span class="line">        document.body.appendChild(script);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">jsonp(&#123;</span><br><span class="line">    url:&apos;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su&apos;,</span><br><span class="line">    params:&#123;wd:%E8%B7%A8%E5%9F%9F&#125;,</span><br><span class="line">    cb:&apos;show&apos;&#125;).then(data=&gt;&#123;</span><br><span class="line">        console.log(data)    </span><br><span class="line">    &#125;)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<p><img src="https://user-gold-cdn.xitu.io/2018/10/1/1662eada5a5efb30?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="jsonp"></p>
<ol>
<li>输入<a href="https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=%E8%B7%A8%E5%9F%9F&amp;&amp;cb=show" target="_blank" rel="noopener">https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=%E8%B7%A8%E5%9F%9F&amp;&amp;cb=show</a></li>
<li>返回show({q:”跨域”,p:false,s:[“跨域请求”,”跨域访问”,”跨域问题”,”跨越速运单号查询”,”跨域ajax”,”跨越物流”,”跨越”,”跨域速运”,”跨域请求解决方案”,”跨域问题怎么解决”]});</li>
</ol>
<h5 id="postMessage"><a href="#postMessage" class="headerlink" title="postMessage"></a>postMessage</h5><p>配合iframes使用，假设a.html位于服务localhost:3000，b.html位于服务器localhost:4000</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//a.html</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;iframe id=&quot;frame&quot;  src=&quot;http://localhost:4000/b.html&quot; frameborder=&quot;0&quot; onload=&quot;load()&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function load()&#123;</span><br><span class="line">            let frame = document.getElementById(&apos;frame&apos;);</span><br><span class="line">            frame.contentWindow.postMessage(&apos;我很帅&apos;,&apos;http://localhost:4000&apos;);</span><br><span class="line">            window.onmessage =function (e)&#123;</span><br><span class="line">                console.log(e.data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">//otherWindow.postMessage(message, targetOrigin);</span><br><span class="line">//otherWindow:指目标窗口，也就是给哪个window发消息，是 window.frames 属性的成员或者由 window.open 方法创建的窗口</span><br><span class="line">//message:是要发送的消息，类型为 String、Object (IE8、9 不支持)</span><br><span class="line">//targetOrigin: 是限定消息接收范围，不限制请使用&apos;*&apos;</span><br><span class="line">//注意otherWindow和targetOrigin的区别</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//b.html</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        //data:消息</span><br><span class="line">        //origin:消息来源地址</span><br><span class="line">        //source:源DOMWindow 对象</span><br><span class="line">        window.onmessage =function (e)&#123;</span><br><span class="line">            console.log(e.data);</span><br><span class="line">            e.source.postMessage(&apos;不要脸&apos;,e.origin);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<h5 id="document-domain"><a href="#document-domain" class="headerlink" title="document.domain"></a>document.domain</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//a.html</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    helloa</span><br><span class="line">    &lt;iframe id=&quot;frame&quot;  src=&quot;http://www.kongbz.com/b.html&quot; frameborder=&quot;0&quot; onload=&quot;load()&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        document.domain = &apos;kongbz.com&apos;;//设置domain</span><br><span class="line">        function load()&#123;</span><br><span class="line">            let frame = document.getElementById(&apos;frame&apos;);</span><br><span class="line">            console.log(frame.contentWindow.a)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    hellob</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        document.domain = &apos;kongbz.com&apos;;//设置domain</span><br><span class="line">        var a = &apos;isB&apos;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<h5 id="websocket"><a href="#websocket" class="headerlink" title="websocket"></a>websocket</h5><p>客户端发送信息给服务端，如果想实现客户端向客户端通信，只能通过页面-&gt;服务端-&gt;另一个页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//客户端</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    hellob</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let socket = new WebSocket(&apos;ws://localhost:3000&apos;);</span><br><span class="line">        socket.onopen = function()&#123;</span><br><span class="line">            socket.send(&apos;我很帅&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">        socket.onmessage = function(e)&#123;</span><br><span class="line">            console.log(e.data)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//服务端</span><br><span class="line">let express = require(&apos;express&apos;);</span><br><span class="line">let Websocket = require(&apos;wss&apos;);</span><br><span class="line">let wss= new WebSocket.Server(&#123;port:3000&#125;)</span><br><span class="line">wss.on(&apos;connection&apos;,function(ws)&#123;</span><br><span class="line">    ws.on(&apos;message&apos;,function(data)&#123;</span><br><span class="line">        console.log(data);</span><br><span class="line">        ws.send(&apos;不要脸&apos;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">let app = new express();</span><br><span class="line">app.listen(3000)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<h5 id="cors"><a href="#cors" class="headerlink" title="cors"></a>cors</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">const http = require(&apos;http&apos;)</span><br><span class="line">const whitList = [&apos;http://localhost:4000&apos;];</span><br><span class="line">http.createServer(function (req, res) &#123;</span><br><span class="line">  let origin = req.headers.origin;</span><br><span class="line">  //在白名单中的域名才能访问</span><br><span class="line">  if(whitList.includes(origin))&#123;</span><br><span class="line">    //允许的域名(* 所有域)，*不能和Access-Control-Allow-Credentials一起使用</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);</span><br><span class="line">    //允许携带哪个头访问，不设置不能携带参数</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Headers&quot;,&quot;ContentType&quot;);</span><br><span class="line">    //允许的方法，不设置默认支持GET、HEAD、POST，其他类型必须设置才能处理请求</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Methods&quot;,&quot;PUT,POST,GET,DELETE,OPTIONS&quot;);</span><br><span class="line">    //运行携带cookie，设置之后还能服务器才能接受cookie</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Credentials&quot;,true);</span><br><span class="line">    //允许前端获取哪个头，不设置浏览器不能解析后台返回的参数</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Expose-Headers&quot;,&apos;ContentType&apos;);</span><br><span class="line">    if(req.method=== &apos;OPTIONS&apos;)&#123;</span><br><span class="line">        res.end()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).listen(9000, function () &#123;</span><br><span class="line">    console.log(&apos;server is runing at 9000&apos;)</span><br><span class="line">&#125;)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<h5 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a>proxy</h5><p><a href="https://link.juejin.im?target=http%3A%2F%2Fxn--test-zu6fx14c.a.cn%2Findex.html%25E9%25A1%25B5%25E9%259D%25A2%25E5%258E%25BB%25E8%25B0%2583%25E7%2594%25A8test.b.cn%2Fservice.json" target="_blank" rel="noopener">例如test.a.cn/index.html页面去调用test.b.cn/service.json</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//nginx.conf</span><br><span class="line">location / &#123;</span><br><span class="line">    root;</span><br><span class="line">    index index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line">location ~.*\.json &#123;</span><br><span class="line">    root json;</span><br><span class="line">    add_header &quot;Access-Control-Allow-Origin&quot; &quot;*&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="代理和网关"><a href="#代理和网关" class="headerlink" title="代理和网关"></a>代理和网关</h3><ul>
<li>代理是一种有转发功能的应用程序，它扮演了位于服务器和客户端’中间人’的角色，接收客户端发送的请求不改变请求的URI并转发给服务器，同时也接收服务器返回的相应并转发客户端</li>
<li>缓存代理：代理转发响应时会预先将资源缓存在代理服务器上当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获取资源，而是将之前缓存的资源作为响应返回</li>
<li>透明代理：转发请求或响应时，不对报文做任何加工的代理类型</li>
<li>网关是转发其他服务器通信数据的服务器，接收从客户端发送来的请求时，它就像自己拥有资源的源服务器一样对请求进行处理，其工作机制和代理类似，而网关能使通信线路上的服务器提供非HTTP协议的服务。</li>
</ul>
<h3 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h3><ul>
<li>大家都有过这样的经历，拨打10086客服电话，可能一个地区的10086客服有几个或者几十个，你永远都不需要关心在电话那头的是哪一个，叫什么，男的，还是女的，漂亮的还是帅气的，你都不关心，你关心的是你的问题能不能得到专业的解答，你只需要拨通了10086的总机号码，电话那头总会有人会回答你，只是有时慢有时快而已。那么这里的10086总机号码就是我们说的反向代理。客户不知道真正提供服务人的是谁。</li>
<li>反向代理隐藏了真实的服务端，当我们请求 <a href="https://link.juejin.im?target=http%3A%2F%2Fwww.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> 的时候，就像拨打10086一样，背后可能有成千上万台服务器为我们服务，但具体是哪一台，你不知道，也不需要知道，你只需要知道反向代理服务器是谁就好了，<a href="https://link.juejin.im?target=http%3A%2F%2Fwww.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> 就是我们的反向代理服务器，反向代理服务器会帮我们把请求转发到真实的服务器那里去。Nginx就是性能非常好的反向代理服务器，用来做负载均衡。</li>
</ul>
<h3 id="负载均衡和动静分离"><a href="#负载均衡和动静分离" class="headerlink" title="负载均衡和动静分离"></a>负载均衡和动静分离</h3><ul>
<li>负载均衡是反向代理的一种，后端多台服务器，nginx根据权重、压力、带宽的分配服务器，避免等待和拥塞</li>
<li>动静分离是反向代理的一种，后端服务器分为动态资源服务器和静态资源服务器，nginx会根据请求分配服务器，区分处理逻辑，加快响应</li>
</ul>
<h3 id="cookie、localstroage、sessionstroage的区别"><a href="#cookie、localstroage、sessionstroage的区别" class="headerlink" title="cookie、localstroage、sessionstroage的区别"></a>cookie、localstroage、sessionstroage的区别</h3><ul>
<li>Cookie适合存储一些session信息： <ol>
<li>cookie限制大小，约4k左右，不适合存储业务数据，尤其是数据量较大的值</li>
<li>存在有效期，到期自动销毁</li>
<li>cookie会每次随http请求一起发送，浪费宽</li>
<li>cookie设置了domain可以在子域共享跨域</li>
<li>可以使用爬虫抓取</li>
</ol>
</li>
<li>localstroage适合存储应用共享的地址信息等： <ol>
<li>存储数据量大，5M或者更大</li>
<li>有效期为永久</li>
<li>不会随http请求一起发送</li>
<li>不能跨域，但是可以使用postMessage和iframe消除这个影响,例如：<a href="https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fzendesk%2Fcross-storage" target="_blank" rel="noopener">cross-storage</a></li>
<li>在浏览器的隐私模式下不能读取</li>
<li>不能被爬虫读取</li>
</ol>
</li>
<li>sessionstroage适合存储浏览状态等： <ol>
<li>存储数据量大，5M或者更大</li>
<li>有效期为到浏览器关闭</li>
<li>不会随http请求一起发送</li>
<li>不能被爬虫读取</li>
</ol>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h2><p>​    身为一个前端,这些知识都是要懂得,通过这次记录,让我对浏览器有了更加深刻的印象</p>
<p>文章参考:    <a href="https://juejin.im/post/5bb1cc2af265da0ae5052496" target="_blank" rel="noopener">传送门</a></p>

      
    </div>
    
    
    

    

    

    
    <div>
        
          <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
        
      </div>
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/javaScript/" rel="tag"><i class="fa fa-tag"></i> javaScript</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/11/23/2018-11-24-eros开发中遇到的坑/" rel="next" title="eros开发中遇到的坑(持续更新中)">
                <i class="fa fa-chevron-left"></i> eros开发中遇到的坑(持续更新中)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/13/掌握JS基础(一)/" rel="prev" title="掌握JS基础(一)">
                掌握JS基础(一) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="杨瑞超" />
          <p class="site-author-name" itemprop="name">杨瑞超</p>
           
              <p class="site-description motion-element" itemprop="description">天下事有难易乎？为之，则难者亦易矣；不为，则易者亦难矣。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yangruichao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/6224797196" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      微博
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/your-user-name" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      知乎
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              推荐阅读
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.zhangxinxu.com/" title="张鑫旭" target="_blank">张鑫旭</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.36zhen.com/t?id=3448" title="前端书籍资料" target="_blank">前端书籍资料</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://wf.uisdc.com/cn/" title="google前端开发基础" target="_blank">google前端开发基础</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一道经典的面试题"><span class="nav-number">2.</span> <span class="nav-text">一道经典的面试题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#正文"><span class="nav-number">3.</span> <span class="nav-text">正文</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS服务器、IP地址、MAC地址"><span class="nav-number">3.1.</span> <span class="nav-text">DNS服务器、IP地址、MAC地址</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IP地址和MAC地址"><span class="nav-number">3.1.1.</span> <span class="nav-text">IP地址和MAC地址</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#计算机网络的分层模型"><span class="nav-number">3.2.</span> <span class="nav-text">计算机网络的分层模型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#OSI七层模型"><span class="nav-number">3.2.1.</span> <span class="nav-text">OSI七层模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP-IP参考模型"><span class="nav-number">3.2.2.</span> <span class="nav-text">TCP/IP参考模型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP"><span class="nav-number">3.3.</span> <span class="nav-text">TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三次握手和四次挥手"><span class="nav-number">3.4.</span> <span class="nav-text">三次握手和四次挥手</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#三次握手"><span class="nav-number">3.4.1.</span> <span class="nav-text">三次握手</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#四次挥手"><span class="nav-number">3.4.2.</span> <span class="nav-text">四次挥手</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP、HTTPS、XSS攻击、CSRF"><span class="nav-number">3.5.</span> <span class="nav-text">HTTP、HTTPS、XSS攻击、CSRF</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTP"><span class="nav-number">3.5.1.</span> <span class="nav-text">HTTP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTPS"><span class="nav-number">3.5.2.</span> <span class="nav-text">HTTPS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS攻击"><span class="nav-number">3.5.3.</span> <span class="nav-text">XSS攻击</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSRF"><span class="nav-number">3.5.4.</span> <span class="nav-text">CSRF</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同源策略和跨域的解决方案"><span class="nav-number">3.6.</span> <span class="nav-text">同源策略和跨域的解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#同源策略"><span class="nav-number">3.6.1.</span> <span class="nav-text">同源策略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#跨域的解决方案"><span class="nav-number">3.6.2.</span> <span class="nav-text">跨域的解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#jsonp"><span class="nav-number">3.6.2.1.</span> <span class="nav-text">jsonp</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#postMessage"><span class="nav-number">3.6.2.2.</span> <span class="nav-text">postMessage</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#document-domain"><span class="nav-number">3.6.2.3.</span> <span class="nav-text">document.domain</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#websocket"><span class="nav-number">3.6.2.4.</span> <span class="nav-text">websocket</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#cors"><span class="nav-number">3.6.2.5.</span> <span class="nav-text">cors</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#proxy"><span class="nav-number">3.6.2.6.</span> <span class="nav-text">proxy</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代理和网关"><span class="nav-number">3.7.</span> <span class="nav-text">代理和网关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#反向代理"><span class="nav-number">3.8.</span> <span class="nav-text">反向代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#负载均衡和动静分离"><span class="nav-number">3.9.</span> <span class="nav-text">负载均衡和动静分离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cookie、localstroage、sessionstroage的区别"><span class="nav-number">3.10.</span> <span class="nav-text">cookie、localstroage、sessionstroage的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">4.</span> <span class="nav-text">总结:</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨瑞超</span>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>